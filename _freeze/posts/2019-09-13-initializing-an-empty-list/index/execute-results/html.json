{
  "hash": "fb182a97ef5433bbb1954266b49d1272",
  "result": {
    "markdown": "---\ntitle: \"Initializing an empty list\"\ndescription: \"When you're using a for loop to fill up a list, sometimes it's a good idea to initialize the list ahead of time, with the right number of elements but with no data. But actually doing this is a little harder than I had anticipated.\"\nauthor:\n  - name: Kaija Gahm\n    url: https://kaijagahm.github.io\n    orcid: 0000-0002-4612-4426\n    affiliation: Yale University\ndate: 09-13-2019\nimage: emptyList.jpg\ncategories: [R] # self-defined categories\ncitation: \n  url: https://kaijagahm.github.io/posts/2019-09-13-initializing-an-empty-list\ndraft: false\n---\n\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](emptyList.jpg){width=75%}\n:::\n:::\n\n\n*This post has been slightly modified from its original form on [woodpeckR](https://thewoodpeckr.wordpress.com/2019/09/13/initializing-an-empty-list/).*\n\n### Problem\n\nHow do I initialize an empty list for use in a for-loop or function?\n\n### Context\n\nSometimes I’m writing a for-loop (I know, I know, I [shouldn’t](https://privefl.github.io/blog/why-loops-are-slow-in-r/) [use](https://stackoverflow.com/questions/30240573/are-for-loops-evil-in-r) [for-loops](https://stackoverflow.com/questions/7142767/why-are-loops-slow-in-r) [in](https://uoftcoders.github.io/studyGroup/lessons/r/loops/HighPerformanceLoops.html) [R](https://www.r-bloggers.com/for-loops-and-how-to-avoid-them/), but sometimes it’s just easier. I’m a little less comfortable with apply functions than I’d like to be) and I know I’ll need to store the output in a list. Once in a while, the new list will be similar in form to an existing one, but more often, I just need to start from scratch, knowing only the number of elements I want to include.\n\nThis isn’t a totally alien thing to need to do––it’s pretty familiar if you’re used to initializing empty vectors before for-loops. There’s a whole other debate to be had about whether or not it’s acceptable to start with a truly empty vector and append to it on every iteration of the loop or whether you should always know the length beforehand, but I’ll just focus on the latter case for now.\n\nAnyway, initializing a vector of a given length is easy enough; I usually do it like this:\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndesired_length <- 10 # or whatever length you want\nempty_vec <- rep(NA, desired_length)\n```\n:::\n\n\nI couldn’t immediately figure out how to replicate this for a list, though. The solution turns out to be relatively simple, but it’s just different enough that I can never seem to remember the syntax. This post is more for my records than anything, then.\n\n### Solution\n\nInitializing an empty list turns out to have an added benefit over my `rep(NA)` method for vectors; namely, the list ends up actually empty, not filled with NA’s. Confusingly, the function to use is `vector`, not `list`.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndesired_length <- 10 # or whatever length you want\nempty_list <- vector(mode = \"list\", \n                     length = desired_length)\n\nstr(empty_list)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nList of 10\n $ : NULL\n $ : NULL\n $ : NULL\n $ : NULL\n $ : NULL\n $ : NULL\n $ : NULL\n $ : NULL\n $ : NULL\n $ : NULL\n```\n:::\n:::\n\n\n### Outcome\n\nVoilà, an empty list. No restrictions on the data type or structure of the individual list elements. Specify the length easily. Useful for loops, primarily, but may have other applications I haven’t come across yet.\n\nI learned something interesting recently, during the R working group I take part in through the Yale School of Forestry. See how, above, I initialized a list using the `vector()` function? Why is that?\n\nMaybe this should have been obvious, but a list is actually a type of vector. The thing that I would typically call a vector (a series of elements, all of the same type), is more specifically an 'atomic vector'. A list, on the other hand, is just a vector that can contain more than one type of data.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}