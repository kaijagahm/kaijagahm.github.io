<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kaija Gahm">
<meta name="dcterms.date" content="2021-10-14">
<meta name="description" content="Recently, I adapted slides from one of my talks into a blog post format, with each slide’s narration transcribed below it. In my experience, people don’t usually post slides this way, and the process of converting a presentation to a blog post wasn’t trivial. Here’s the process I followed–I hope it helps anyone else who would like to do this too.">

<title>Kaija Gahm - A Semi-Automated Process for Converting Slides to a Blog Post in RMarkdown</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Kaija Gahm</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../talks.html" rel="" target="">
 <span class="menu-text">Talks</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../posts.html" rel="" target="">
 <span class="menu-text">Blog: woodpeckR</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../projects.html" rel="" target="">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../artwork.html" rel="" target="">
 <span class="menu-text">Artwork</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-page-left">
      <h1 class="title">A Semi-Automated Process for Converting Slides to a Blog Post in RMarkdown</h1>
                  <div>
        <div class="description">
          Recently, I adapted slides from one of my talks into a blog post format, with each slide’s narration transcribed below it. In my experience, people don’t usually post slides this way, and the process of converting a presentation to a blog post wasn’t trivial. Here’s the process I followed–I hope it helps anyone else who would like to do this too.
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">R</div>
              </div>
                  </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author"><a href="https://kaijagahm.github.io">Kaija Gahm</a> <a href="https://orcid.org/0000-0002-4612-4426" class="quarto-title-author-orcid"> <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg=="></a></p>
    </div>
      <div class="quarto-title-meta-contents">
          <p class="affiliation">
              UCLA
            </p>
        </div>
      </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 14, 2021</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#what-youll-need" id="toc-what-youll-need" class="nav-link" data-scroll-target="#what-youll-need">What you’ll need</a>
  <ul class="collapse">
  <li><a href="#a-slide-deck" id="toc-a-slide-deck" class="nav-link" data-scroll-target="#a-slide-deck">1. A slide deck</a></li>
  <li><a href="#slide-by-slide-transcriptions-or-captions" id="toc-slide-by-slide-transcriptions-or-captions" class="nav-link" data-scroll-target="#slide-by-slide-transcriptions-or-captions">2. Slide-by-slide transcriptions or captions</a></li>
  </ul></li>
  <li><a href="#step-by-step" id="toc-step-by-step" class="nav-link" data-scroll-target="#step-by-step">Step by step</a>
  <ul class="collapse">
  <li><a href="#create-an-rmarkdown-document" id="toc-create-an-rmarkdown-document" class="nav-link" data-scroll-target="#create-an-rmarkdown-document">1. Create an RMarkdown document</a></li>
  <li><a href="#convert-slides-to-images" id="toc-convert-slides-to-images" class="nav-link" data-scroll-target="#convert-slides-to-images">2. Convert slides to images</a></li>
  <li><a href="#compile-your-transcription-data" id="toc-compile-your-transcription-data" class="nav-link" data-scroll-target="#compile-your-transcription-data">3. Compile your transcription data</a></li>
  <li><a href="#format-input-data-for-the-for-loop" id="toc-format-input-data-for-the-for-loop" class="nav-link" data-scroll-target="#format-input-data-for-the-for-loop">4. Format input data for the for loop</a></li>
  <li><a href="#make-the-for-loop" id="toc-make-the-for-loop" class="nav-link" data-scroll-target="#make-the-for-loop">5. Make the for loop</a></li>
  <li><a href="#knit-the-document" id="toc-knit-the-document" class="nav-link" data-scroll-target="#knit-the-document">6. Knit the document</a></li>
  </ul></li>
  <li><a href="#adding-a-video-of-your-talk" id="toc-adding-a-video-of-your-talk" class="nav-link" data-scroll-target="#adding-a-video-of-your-talk">Adding a video of your talk</a>
  <ul class="collapse">
  <li><a href="#options-for-video-storage" id="toc-options-for-video-storage" class="nav-link" data-scroll-target="#options-for-video-storage">Options for video storage</a></li>
  <li><a href="#embed-the-video" id="toc-embed-the-video" class="nav-link" data-scroll-target="#embed-the-video">Embed the video</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block column-page-left" id="quarto-document-content">




<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>In July 2021, I gave a talk at the inaugural <a href="https://sortee.org/">SORTEE</a> conference, describing my experience auditing colleague’s workflow to improve reproducibility.</p>
<p>Recently, I posted my slides <a href="https://kaijagahm.netlify.app/projects/2021-07-13-retroactivelyreproducible/">here</a> after converting them to a blog post/text format. My goal was to present each slide, followed by a block of text, essentially transcribing what I said during the presentation.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="schematic.jpeg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">The goal: To transform a slide deck to a scrollable blog post where each slide is followed by its caption or transcription</figcaption>
</figure>
</div>
<p>Why did I want to do this in the first place? In my experience looking for help and ideas on the internet, it’s often easier to skim a text-based blog post than to watch an entire video.</p>
<p>It’s become very common to post slides after giving a talk, and I think that’s fantastic. Here are some examples:</p>
<p><a href="https://ellakaye.rbind.io/talks.html">Ella Kaye</a> | <a href="https://masalmon.eu/talks/">Maëlle Salmon</a> | <a href="https://www.apreshill.com/talk/">Alison Hill</a></p>
<p>The problem is, my slides are often pretty minimal. I try to communicate my points mainly through images and diagrams. If you weren’t there for the talk, I don’t think you’d get a lot out of looking at my slides by themselves. So when it came time to post my talk and its slides, I wanted some way to convert it into a blog post, without totally reinventing the wheel.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="0005.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">My slides are pretty heavy on diagrams and don’t have a lot of text. Without the context of my narration, you probably wouldn’t really know what’s going on.</figcaption>
</figure>
</div>
<p><strong>Here, I’ll outline the process that I used to achieve that format.</strong> I hope you find this helpful. If you’ve done a similar thing, feel free to comment with any tips and tricks or lessons learned!</p>
</section>
<section id="what-youll-need" class="level2">
<h2 class="anchored" data-anchor-id="what-youll-need">What you’ll need</h2>
<p>This post refers to the process for converting slides to a scrollable RMarkdown document, like <a href="https://kaijagahm.netlify.app/projects/2021-07-13-retroactivelyreproducible/">this</a> post.</p>
<p>You will need two basic components:</p>
<section id="a-slide-deck" class="level3">
<h3 class="anchored" data-anchor-id="a-slide-deck">1. A slide deck</h3>
<p>While I dream of one day becoming proficient in <a href="https://bookdown.org/yihui/rmarkdown/xaringan.html">xaringan</a>, for now I make my presentations in Google Slides, which integrates pretty well into my institution’s Google-based storage system.</p>
<p>So, after creating my talk, I had a nice slide deck saved as a Google Slides presentation. Yours might be a Powerpoint, a pdf, or some other type of presentation. I won’t speak to the particularities of each type of slide deck, but the important thing is that you need to be able to <strong>convert your slides to a pdf document, one slide per page</strong>. If you can do that, this process will work.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="googleSlides.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">My slides!</figcaption>
</figure>
</div>
</section>
<section id="slide-by-slide-transcriptions-or-captions" class="level3">
<h3 class="anchored" data-anchor-id="slide-by-slide-transcriptions-or-captions">2. Slide-by-slide transcriptions or captions</h3>
<p>To display your slides as a scrollable page, with each slide followed by some text, you’ll of course need the text for each slide.</p>
<p><strong>For this process, I’m assuming that you already know the text you’d like to associate with each slide, up front.</strong></p>
<p>Why? Well, of course you could insert slides one by one into RMarkdown and then type out the text in the document after each one. But that’s laborious and slow, and it kind of defeats the point of automating the process.</p>
<p>Instead, I’m assuming that you already have the text written. Examples:</p>
<ul>
<li><p>You already had to write down and provide talk <strong>transcripts</strong> for the venue where you presented your talk, and you have them saved somewhere.</p></li>
<li><p>You want to take some time to click through each slide and write about it.</p></li>
<li><p>You’ve written <strong>presenter notes</strong> in Google Slides/Powerpoint/Keynote/whatever and want to present the notes along with the slides.</p></li>
</ul>
</section>
</section>
<section id="step-by-step" class="level2">
<h2 class="anchored" data-anchor-id="step-by-step">Step by step</h2>
<p>Okay, armed with your slides and transcripts or text, let’s do this.</p>
<section id="create-an-rmarkdown-document" class="level3">
<h3 class="anchored" data-anchor-id="create-an-rmarkdown-document">1. Create an RMarkdown document</h3>
<p>If you’re publishing your post in Distill, you might want to use <a href="https://rdrr.io/cran/distill/man/create_post.html"><code>distill::create_post()</code></a>.</p>
<p>Otherwise, just create a regular old RMarkdown document.</p>
<p>Make sure to take note of where your RMarkdown document lives. You’re going to need to store the materials (slides and captions) in a folder somewhere logical–either in your post folder for Distill, or maybe in a subfolder of your <a href="https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects">RStudio Project</a>. (Consider <a href="https://malco.io/2018/11/05/why-should-i-use-the-here-package-when-i-m-already-using-projects/">pairing this with the <code>here</code> package</a>–it helps get around the weirdness with working directories in RMarkdown.)</p>
</section>
<section id="convert-slides-to-images" class="level3">
<h3 class="anchored" data-anchor-id="convert-slides-to-images">2. Convert slides to images</h3>
<p>I got stuck when it came to extracting each slide from Google Slides as an image. Unfortunately, there’s no good way to download Google Slides as individual images. The thought of taking individual screenshots of slides made me want to abandon the whole project.</p>
<p>Instead, I started by saving the slides to a PDF document. In Google Slides, you can choose <strong>File &gt; Download &gt; PDF Document (.pdf)</strong></p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="savingAsPDF.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Saving a Google Slides presentation as a PDF</figcaption>
</figure>
</div>
<p>Next, I needed to convert the PDF to a series of images so I could insert them one by one into the RMarkdown document.</p>
<p>I did this using <a href="https://smallpdf.com/pdf-to-jpg">smallpdf</a> to convert the multi-page PDF to a series of JPG images. (Smallpdf has free features if you create an account or log in using e.g.&nbsp;Google, or there’s a free trial for some of their paid features. Converting a pdf to jpg images seems to be a free feature–I had no problem doing it using my Google account.)</p>
<p>The images will be saved by default with file names like <code>0001.jpg</code>, in order. Put all of the images into a folder and save it as a subdirectory of your post/project folder, or wherever makes sense in your Project directory. <strong>Make sure they’re in their own folder (no other files), and all in the same place</strong>.</p>
<section id="an-alternative-method-for-conversion" class="level4">
<h4 class="anchored" data-anchor-id="an-alternative-method-for-conversion">An alternative method for conversion</h4>
<p>If you don’t want to upload your materials to smallpdf, you can also convert your PDF to images using ‘<a href="https://imagemagick.org/script/index.php">imagemagick</a>’, a free downloadable command line tool. Download ‘imagemagick’ <a href="https://imagemagick.org/script/download.php">here</a>. Then you can use this code:</p>
<p><code>convert myfilename.pdf myoutputfilename-%04d.jpg</code></p>
<p>The <code>%04d</code> will create files with four-digit numbers at the end, starting with <code>myoutputfilename-0000.jpg</code> and then counting up: <code>myoutputfilename-0001.jpg</code>, <code>myoutputfilename-0002.jpg</code>, etc.</p>
<p>Thanks to <a href="https://daryavanichkina.com/">Darya Vanichkina</a> for <a href="https://github.com/kaijagahm/kaija_bean/issues/1">contributing</a> this method!</p>
</section>
</section>
<section id="compile-your-transcription-data" class="level3">
<h3 class="anchored" data-anchor-id="compile-your-transcription-data">3. Compile your transcription data</h3>
<p>Now, let’s get your captions or transcripts in a format that will be easy to use. Eventually, we’ll want a CSV or text file with <strong>each slide’s caption in its own row</strong>.</p>
<p>You can create this file however you want. I made a new document in Google Sheets and copied and pasted my slide transcripts into successive rows from the document in which I had written them.</p>
<p>I also added an index column for good measure, to keep track of the slide numbers. I wanted to be able to cross-reference the slide image file names with the captions later on, to make sure I’d assigned the right caption to each slide.</p>
<p>I exported the finished sheet as a csv, so it looked something like this:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="captionsSpreadsheet.png" class="img-fluid" width="737"></p>
</div>
</div>
<p>A quick note about <strong>line breaks</strong> and <strong>text formatting</strong>:</p>
<p>Because we’re passing in the caption data from an external spreadsheet, there are limitations to how much text formatting we can apply to them. It would be easier to be able to edit each caption in RMarkdown, with all the formatting possibilities that affords, but doing that makes automation impossible. So I kept my formatting pretty simple.</p>
<p>If you do want to add formatting, you can use <a href="https://www.w3schools.com/html/html_formatting.asp">html formatting tags</a> to make your text bold, italic, etc. or to insert line breaks.</p>
<p>For some reason, <code>\n</code> doesn’t work to create a line break in the slide captions. But the html tag <code>&lt;br&gt;</code> does, so I used <code>&lt;br&gt;</code> pretty liberally to break up long, multi-paragraph slide captions.</p>
</section>
<section id="format-input-data-for-the-for-loop" class="level3">
<h3 class="anchored" data-anchor-id="format-input-data-for-the-for-loop">4. Format input data for the for loop</h3>
<p>We’re going to be programmatically inserting each slide, with its caption, into the RMarkdown document. I used a for loop to do this.</p>
<p>You’re going to need two inputs for the for loop: a vector of <strong>slide image file paths</strong> and a vector of <strong>slide captions</strong>. I chose to combine the two into a single data frame, although you don’t strictly have to do this.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read in the csv of slide captions</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>descriptionData <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"retroactivelyReproducible_slideCaptions.csv"</span>)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector of slide image names by listing the image file paths</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>fileNames <span class="ot">&lt;-</span> <span class="fu">list.files</span>(<span class="at">path =</span><span class="st">"slideImages"</span>, </span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>                        <span class="at">full.names =</span> T) <span class="co"># full file paths</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a data frame combining the file paths and captions</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">slideDescription =</span> descriptionData<span class="sc">$</span>description,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                    <span class="at">slideImage =</span> fileNames)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="make-the-for-loop" class="level3">
<h3 class="anchored" data-anchor-id="make-the-for-loop">5. Make the for loop</h3>
<p>Next, I used a for loop to combine the data into a dynamically-generated portion of the RMarkdown document. The code I used is adapted from <a href="https://stackoverflow.com/questions/51268623/insert-images-using-knitrinclude-graphics-in-a-for-loop">this StackOverflow post</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up a for loop for as many iterations as there are slides</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span>(i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">nrow</span>(input)){</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># For convenience, make a temp object for the current slide</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>  currentSlide <span class="ot">&lt;-</span> input[i, ] </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Create raw markdown code to insert each image, pasting in the file name</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="fu">paste0</span>(<span class="st">"![]("</span>, currentSlide<span class="sc">$</span>slideImage, <span class="st">")"</span>))</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add the slide description immediately under the image</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(currentSlide<span class="sc">$</span>slideDescription)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add space after the description to differentiate it from the next slide</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cat</span>(<span class="st">"&lt;br&gt;&lt;br&gt;&lt;br&gt;"</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Note:</strong> For the code chunk containing this for loop, make sure to set the chunk option <code>results = 'asis'</code>. It’s important to do this because we’re dynamically generating a raw markdown string to insert the images, so we need the results to be evaluated as if they had been typed into RMarkdown by hand. If you don’t set <code>results = 'asis'</code>, then the results will show up as RMarkdown chunk output and none of the formatting will come through.</p>
<p>Also, set <code>echo = FALSE</code> so that the code itself doesn’t show up.</p>
<p>So, the final code chunk should look something like this:</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="codeChunk.png" class="img-fluid" width="965"></p>
</div>
</div>
</section>
<section id="knit-the-document" class="level3">
<h3 class="anchored" data-anchor-id="knit-the-document">6. Knit the document</h3>
<p>Be sure to test out this code a few times by knitting the document to make sure it looks good! Adjust the line spacing and other formatting as necessary. I knitted my markdown to html because I was putting it on a Distill site; I’m not sure how well this process would work for a knitted Word or PDF document.</p>
<p><strong>Note:</strong> Sometimes, the formatting for dynamically-generated markdown like this won’t show up correctly in the html preview of your knitted RMarkdown document. Make sure to open the page in a browser window to see how the final product will actually look.</p>
</section>
</section>
<section id="adding-a-video-of-your-talk" class="level2">
<h2 class="anchored" data-anchor-id="adding-a-video-of-your-talk">Adding a video of your talk</h2>
<p>I was excited that the above process worked for turning a slide deck into a scrollable blog post. But I also wanted to embed the video recording of my talk in the same post so people could access that medium if they preferred.</p>
<p>A lot has been written about how to embed videos in RMarkdown outputs, but some of the approaches I found didn’t work for me. I don’t quite understand why code that worked for other people failed for me, but here’s what did work:</p>
<section id="options-for-video-storage" class="level3">
<h3 class="anchored" data-anchor-id="options-for-video-storage">Options for video storage</h3>
<p>You can either store your video locally and embed it similarly to how you’d embed a photo, like <a href="https://stackoverflow.com/questions/43840742/how-to-embed-local-video-in-r-markdown">this</a>. This works best if the file is pretty small, especially if your RMarkdown (like mine) is backed up to a GitHub repository.</p>
<p>My video was over 100MB, so GitHub wasn’t an easy option. I started looking into alternatives.</p>
<p>The easiest thing turned out to be to upload the video to YouTube and leave it as “unlisted” (publicly accessible, but not findable in a search–you can only see it if you have access to the direct video link).</p>
<p>This approach does require that you have a YouTube account, but you can sign up for free through Google. I think YouTube also has some restrictions for how long/how big your videos can be, and what formats are acceptable. Mine was 10 minutes and didn’t need to be high definition, and it was saved as .mp4, so this worked well for me.</p>
<p>Instructions on how to upload a video to YouTube <a href="https://www.wix.com/blog/2019/02/how-to-upload-video-youtube-guide/">here</a>.</p>
<p>Next, find the video’s embed link (<a href="https://support.google.com/youtube/answer/171780?hl=en">instructions</a>). Copy that link to your clipboard; you’ll use it in the next code chunk.</p>
</section>
<section id="embed-the-video" class="level3">
<h3 class="anchored" data-anchor-id="embed-the-video">Embed the video</h3>
<p>I embedded the video as an iframe in html. The code looked like this, and it can just go in the main body of your RMarkdown document (doesn’t have to be in a code chunk):</p>
<pre><code>&lt;iframe width="560" height="450" src="https://www.youtube.com/embed/cJq2kp114Mg" 
title="Your Title Here" frameborder="0" allow="accelerometer; 
autoplay; clipboard-write; encrypted-media; gyroscope; 
picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;</code></pre>
<p>Substitute your own video link for the one above, of course.</p>
<p>Tweak the dimensions of your video until it looks right. 560 by 450 isn’t anything special, it’s just what ended up looking decent for my video.</p>
<p>There you have it! Again, <a href="https://kaijagahm.netlify.app/projects/2021-07-13-retroactivelyreproducible/">here</a> is the post as it appears in its final form.</p>
<p>The full code I used to create the post is on my <a href="https://github.com/kaijagahm/kaija_bean/blob/main/_projects/2021-07-13-retroactivelyReproducible/retroactivelyReproducible.Rmd">GitHub</a>.</p>
<p><strong>Thanks for reading!</strong></p>


</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">Citation</h2><div><div class="quarto-appendix-secondary-label">BibTeX citation:</div><pre class="sourceCode code-with-copy quarto-appendix-bibtex"><code class="sourceCode bibtex">@online{gahm2021,
  author = {Gahm, Kaija},
  title = {A {Semi-Automated} {Process} for {Converting} {Slides} to a
    {Blog} {Post} in {RMarkdown}},
  date = {2021-10-14},
  url = {https://kaijagahm.github.io/posts/2021-10-14-publishing-scrollable-slides-in-rmarkdown/},
  langid = {en}
}
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre><div class="quarto-appendix-secondary-label">For attribution, please cite this work as:</div><div id="ref-gahm2021" class="csl-entry quarto-appendix-citeas" role="listitem">
Gahm, Kaija. 2021. <span>“A Semi-Automated Process for Converting Slides
to a Blog Post in RMarkdown.”</span> October 14, 2021. <a href="https://kaijagahm.github.io/posts/2021-10-14-publishing-scrollable-slides-in-rmarkdown/">https://kaijagahm.github.io/posts/2021-10-14-publishing-scrollable-slides-in-rmarkdown/</a>.
</div></div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Copyright 2024, Kaija Gahm
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/kaijagahm">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>